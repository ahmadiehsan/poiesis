{% load static %}

<div class="card mb-4" onclick="showPulse(this)">
    <img src="{% static standard.image_address %}" class="card-img-top" alt="{{ standard.title }}">
    <div class="card-body">
        <h5 class="card-title">
            {{ standard.title }}
        </h5>
        <p class="card-text">
            استانداردهای
            {{ standard.title }}
            برای:
        </p>

        {% for link in standard.links %}
            <a href="{{ link.url }}" class="btn btn-primary btn-sm">
                {{ link.title }}
                <span class="pulse"></span>
            </a>
        {% endfor %}
    </div>
</div>

{% block js %}
    <script>
        function showPulse(element) {
            let buttons = element.getElementsByClassName('btn');
            for (const [index, button] of Array.from(buttons).entries()) {
                setTimeout(() => {
                    $(button).addClass('show-pulse');
                }, 150 * index);
                setTimeout(() => {
                    $(button).removeClass('show-pulse');
                }, 200 * (index + 1));
            }
        }
    </script>
{% endblock %}
